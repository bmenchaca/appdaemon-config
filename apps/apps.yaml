# FIXME: Add a nighttime warning if Ben or Susan's Garage door is open.

#downstairs_last_motion:
#  class: PirLastMotion
#  module: pir_last_motion
#  input_sensors: binary_sensor.guest_occupancy, binary_sensor.entry_occupancy
#  output_sensor: sensor.downstairs_last_motion

#  
###############################################################################

###############################################################################
# Door Automations
# 
pantry_sensor_light:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.pantry_door
  entity_on: switch.kitchen_pantry_light
  entity_off: switch.kitchen_pantry_light

laundry_room_closet_sensor_light:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.laundry_closet_door
  entity_on: switch.laundry_closet_lights
  entity_off: switch.laundry_closet_lights

master_closet_sensor_light:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.master_closet_door
  entity_on: switch.master_closet_lights
  entity_off: switch.master_closet_lights

back_door_sensor_deck_lights:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.back_door
  entity_on: scene.backyard_lights_evening_on
  #entity_off: scene.backyard_lights_off
  constrain_input_select: input_select.house_time_of_day,Evening,Night

front_door_sensor_lights:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.front_door
  entity_on: switch.front_porch_lights
  entity_off: switch.front_porch_lights
  constrain_input_select: input_select.house_time_of_day,Evening,Night
  off_delay: 60

#  
###############################################################################


###############################################################################
# Sunrise/Sunset lights
#
garage_lights_at_night:
  class: SunriseSunset
  module: sunrise_sunset
  entity_day: scene.garage_outdoor_lights_daytime
  entity_night: scene.garage_outdoor_lights_nighttime

#christmas_lights_at_night:
#  class: SunriseSunset
#  module: sunrise_sunset
#  entity_day: scene.christmas_lights_daytime
#  entity_night: scene.christmas_lights_nighttime

#  
###############################################################################


###############################################################################
# Triggered Sequences
#
craft_room_switch_on:
  class: Sequence
  module: sequence
  input: switch.craft_fan_and_lights
  state: "on"
  sequence:
    - entity: scene.craft_room_switch_on
      service: scene/turn_on
      delay: 0

craft_room_switch_off:
  class: Sequence
  module: sequence
  input: switch.craft_fan_and_lights
  state: "off"
  sequence:
    - entity: scene.craft_room_switch_off
      service: scene/turn_on
      delay: 0

family_room_switch_off:
  class: Sequence
  module: sequence
  input: light.family_room_dimmer
  state: "off"
  sequence:
    - entity: scene.family_room_lights_off
      service: scene/turn_on
      delay: 0

entry_lights_switch_off:
  class: Sequence
  module: sequence
  input: switch.entry_hall_lights_swich
  state: "off"
  sequence:
    - entity: scene.entry_hall_off
      service: scene/turn_on
      delay: 0

#back_porch_switch_on:
#  class: Sequence
#  module: sequence
#  input: switch.back_porch_lights_switch_2
#  state: "on"
#  sequence:
#    - entity: scene.deck_lights_evening
#      service: scene/turn_on
#      delay: 0

#back_porch_switch_off:
#  class: Sequence
#  module: sequence
#  input: switch.back_porch_lights_switch_2
#  state: "off"
#  sequence:
#    - entity: light.back_porch
#      service: light/turn_off
#      delay: 0
 
#  
###############################################################################

###############################################################################
# Motion-trigger lights
#
boys_hall_motion_light:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.boys_hall_motion
  entity_on: switch.boys_hall_light
  entity_off: switch.boys_hall_light
  constrain_input_select: input_select.house_time_of_day,Evening,Night,Naptime
  off_delay: 60

boys_bathroom_motion_light_night:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.boys_bathroom_motion
  entity_on: switch.boys_bathroom_light
  entity_off: switch.boys_bathroom_light
  constrain_input_select: input_select.house_time_of_day,Night
  off_delay: 120

boys_bathroom_motion_light_evening:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.boys_bathroom_motion
  entity_on: switch.boys_bathroom_light
  entity_off: switch.boys_bathroom_light
  constrain_input_select: input_select.house_time_of_day,Evening,Naptime
  off_delay: 600

girls_hall_motion_light:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.girls_hall_motion
  entity_on: switch.girls_hall_lights
  entity_off: switch.girls_hall_lights
  constrain_input_select: input_select.house_time_of_day,Evening,Night,Naptime
  off_delay: 60
  
gallery_hall_motion_light_evening:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.gallery_motion
  entity_on: switch.gallery_lights
  entity_off: switch.gallery_lights
  constrain_input_select: input_select.house_time_of_day,Evening,Naptime
  off_delay: 60

gallery_hall_motion_light_night:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.gallery_motion
  entity_on: light.gallery
  entity_on_brightness: 10
  entity_on_color: "darkred"
  entity_off: light.gallery
  constrain_input_select: input_select.house_time_of_day,Night
  off_delay: 60

game_room_motion_light_night:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.game_room_motion
  entity_on: light.game_room_fan
  entity_off: light.game_room_fan
  constrain_input_select: input_select.house_time_of_day,Night
  off_delay: 180

game_room_motion_light_not_night:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.game_room_motion
  entity_on: light.game_room_fan
  entity_off: light.game_room_fan
  constrain_input_select: input_select.house_time_of_day,Morning,Day,Naptime,Afternoon,Evening
  off_delay: 600

garage_motion_light:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.garage_occupancy
  entity_on: switch.garage_lights
  entity_off: switch.garage_lights
  off_delay: 600

guest_bathroom_motion_light_not_night:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.guest_bath_motion
  entity_on: switch.guest_bath_lights
  entity_off: switch.guest_bath_lights
  constrain_input_select: input_select.house_time_of_day,Morning,Day,Naptime,Afternoon,Evening
  off_delay: 600

guest_bathroom_motion_light_night:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.guest_bath_motion
  entity_on: scene.guest_bath_night_time
  entity_off: light.guest_bath
  constrain_input_select: input_select.house_time_of_day,Night
  off_delay: 120


boys_bathroom_motion_light_night:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.boys_bathroom_motion
  entity_on: switch.boys_bathroom_light_switch
  entity_off: switch.boys_bathroom_light_switch
  constrain_input_select: input_select.house_time_of_day,Night
  off_delay: 120

laundry_room_motion_light:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.laundry_motion
  entity_on: switch.laundry_lights
  entity_off: switch.laundry_lights
  off_delay: 60

front_door_motion_lights:
  class: SensorLight
  module: sensor_light
  sensor: binary_sensor.ring_front_door_motion
  entity_on: switch.front_porch_lights
  entity_off: switch.front_porch_lights
  constrain_input_select: input_select.house_time_of_day,Evening,Night
  off_delay: 300

#craft_room_motion_lights:
#  class: SensorLight
#  module: sensor_light
#  sensor: binary_sensor.craft_room_occupancy
#  entity_on: scene.craft_room_switch_on
#  #entity_off: scene.craft_room_switch_on
#  #off_delay: 60



#
###############################################################################

hello_world:
  module: hello
  class: HelloWorld
